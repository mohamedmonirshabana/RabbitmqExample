{"version":3,"sources":["consume.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mEAA2C;AAG1C,SAAS,UAAU,CAAC,OAAuB;IACxC,OAAO,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AACtC,CAAC;AAIF,SAAe,OAAO;;;;;;;;oBAER,UAAU,GAAG,oCAAI,CAAC,OAAO,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;oBAEpD,eAAa,MAAM,CAAC;oBAC1B,qBAAM,UAAU,CAAC,aAAa,CAAC;4BAC3B,KAAK,EAAC,UAAO,OAAsB;;;;4CAC/B,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;4CAC1B,qBAAM,UAAU,CAAC,OAAO,CAAC,EAAA;;4CAAzB,SAAyB,CAAE;4CAC3B,OAAO,CAAC,OAAO,CAAC,YAAU,EAAE,UAAC,GAAmB;gDAC7C,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;4CAC5E,CAAC,CAAC,CAAC;;;;iCACR;yBACJ,CAAC,EAAA;;oBARF,SAQE,CAAC;;;;oBACU,OAAO,CAAC,KAAK,CAAC,KAAG,CAAC,CAAC;;;;;;CAEnC;AACD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACrB,OAAO,EAAE,CAAC","file":"consume.js","sourcesContent":["import amqp from 'amqp-connection-manager';\nimport { ConfirmChannel, ConsumeMessage } from 'amqplib';\n\n function checkQueue(channel: ConfirmChannel){\n    return channel.assertQueue('Ledo');\n }\n\n\n\nasync function consume(){\n    try{\n        const connection = amqp.connect(['amqp://localhost']);\n    // const exchangeName = \"MonExtange\";\n    const quequeName = \"Ledo\";\n    await connection.createChannel({\n        setup:async (channel:ConfirmChannel) =>{\n            console.log(\"Start Consum\");\n              await checkQueue(channel) ;\n              channel.consume(quequeName, (msg: ConsumeMessage) => {\n                 console.log(\"New message received\", Buffer.from(msg.content).toString());  \n              });\n        }\n    });\n    } catch(err){console.error(err);}\n    \n}\nconsole.log(\"Start\");\nconsume();"]}