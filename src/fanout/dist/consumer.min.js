"use strict";var __awaiter=this&&this.__awaiter||function(e,u,c,i){return new(c=c||Promise)(function(n,t){function r(e){try{a(i.next(e))}catch(e){t(e)}}function o(e){try{a(i.throw(e))}catch(e){t(e)}}function a(e){e.done?n(e.value):function(n){return n instanceof c?n:new c(function(e){e(n)})}(e.value).then(r,o)}a((i=i.apply(e,u||[])).next())})},__generator=this&&this.__generator||function(t,r){var o,a,u,e,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return e={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function n(n){return function(e){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(u=2&n[0]?a.return:n[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,n[1])).done)return u;switch(a=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(u=0<(u=c.trys).length&&u[u.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){c.label=n[1];break}if(6===n[0]&&c.label<u[1]){c.label=u[1],u=n;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(n);break}u[2]&&c.ops.pop(),c.trys.pop();continue}n=r.call(t,c)}catch(e){n=[6,e],a=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,e])}}};exports.__esModule=!0;var amqp_connection_manager_1=require("amqp-connection-manager"),host="amqp://localhost",Exchange="HuFanout",queueName="queueMessage_2",typeofExchange="fanout";function checkQuee(e){return e.assertQueue(queueName)}function consumer(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,amqp_connection_manager_1.default.connect([host]).createChannel({json:!0,setup:function(n){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,checkQuee(n)];case 1:return e.sent(),n.consume(queueName,function(e){console.log(e.content.toString()),n.ack(e)}),[2]}})})}})];case 1:return e.sent(),[2]}})})}consumer();
//# sourceMappingURL=consumer.min.js.map
